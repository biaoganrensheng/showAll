<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>添加用户</title>
    <meta name="keywords" content="艋顺,艋顺科技，艋顺科技公司">
    <meta name="description" content="艋顺,艋顺科技，艋顺科技公司">
    <link rel="shortcut icon" href="images/logo.ico" type="images/x-icon" />
    <link rel="icon" href="images/logo.ico" type="images/x-icon" />
    <link href="css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="css/font-awesome.css?v=4.4.0" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <link href="css/style.css?v=4.1.0" rel="stylesheet">
    <style>
        #form_btnList{
            padding-top:20px;
        }
       #form_btnList label{
          padding-top:6px;
        }
       #form_btnList .glyphicon{
           right:10px;
           color:#23B7E5;
       }
        #form_btnList .btn_list{
            margin-top:10px;
        }
        #form_btnList .btn_list button{
            margin-right:20px;
        }
        #form_btnList .help-block.add_controlShow{
            color:#f00;
        }
    </style>
</head>

<body>
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="container">
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <form action="" id="form_btnList">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_user" class="control-label">用&nbsp;户&nbsp;&nbsp;名:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_user" placeholder="请输入用户名" id="btn_user" name="btn_user">
                                    <span class="glyphicon glyphicon-user form-control-feedback"></span>
                                    <span class="help-block add_controlShow"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_pwd" class="control-label">密&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;码:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_pwd" placeholder="请输入用密码" id="btn_pwd" name="btn_pwd">
                                    <span class="glyphicon glyphicon-eye-open form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入正确的密码</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_email" class="control-label">邮&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;箱:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_email" placeholder="请输入用户名" id="btn_email" name="btn_email">
                                    <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入正确的邮箱</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_tel" class="control-label">电&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;话:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_tel" placeholder="请输入用户名" id="btn_tel" name="btn_tel">
                                    <span class="glyphicon glyphicon-phone form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入正确的联系电话</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_year" class="control-label">出生日期:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_year" placeholder="请输入用户名" id="btn_year" name="btn_year">
                                    <span class="glyphicon glyphicon-time form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入正确的出生日期</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_yb" class="control-label">邮&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;编:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_yb" placeholder="请输入用户名" id="btn_yb" name="btn_yb">
                                    <span class="glyphicon glyphicon-send form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入正确的邮编</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_else1" class="control-label">其他项1:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_else1" placeholder="请输入其他项1" id="btn_else1" name="btn_else1">
                                    <span class="glyphicon glyphicon-plus form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入其他项1</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_else2" class="control-label">其他项2:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_else2" placeholder="请输入其他项2" id="btn_else2" name="btn_else2">
                                    <span class="glyphicon glyphicon-plus form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入其他项2</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_else3" class="control-label">其他项3:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_else3" placeholder="请输入其他项3" id="btn_else3" name="btn_else3">
                                    <span class="glyphicon glyphicon-plus form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入其他项3</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_else4" class="control-label">其他项4:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_else4" placeholder="请输入其他项" id="btn_else4" name="btn_else4">
                                    <span class="glyphicon glyphicon-plus form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入其他项4</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_else5" class="control-label">其他项5:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_else5" placeholder="请输入其他项" id="btn_else5" name="btn_else5">
                                    <span class="glyphicon glyphicon-plus form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入其他项5</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group has-default has-feedback">
                                <div class="col-md-3 text-right">
                                    <label for="btn_else6" class="control-label">其他项6:</label>
                                </div>
                                <div class="col-md-9">
                                    <input type="text" class="form-control btn_else6" placeholder="请输入其他项" id="btn_else6" name="btn_else6">
                                    <span class="glyphicon glyphicon-plus form-control-feedback"></span>
                                    <span class="help-block add_controlShow">请输入其他项6</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-center btn_list" >
                        <button class="btn btn-success">立即提交</button>
                        <button class="btn btn-danger">重置</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- 全局js -->
<script src="js/jquery.min.js?v=2.1.4"></script>
<script src="js/bootstrap.min.js?v=3.3.6"></script>
<script>
    function vali(name,flag,icon,t1,t2){
//    错误样式的函数定义
        if(flag){
            $("."+name).next("span").removeClass(icon+" glyphicon-remove").addClass("glyphicon-ok").css("color","#27C24C");
            $("."+name).parents(".form-group").removeClass("has-default has-error").addClass("has-success");
            $("."+name).parents(".form-group").find(".add_controlShow").removeClass("add_controlShow").html(t1);
        }else{
            $("."+name).next("span").removeClass( icon+" glyphicon-ok").addClass("glyphicon-remove").css("color","#ED5565");
            $("."+name).parents(".form-group").removeClass("has-default has-success").addClass("has-error");
            $("."+name).parents(".form-group").find(".add_controlShow").removeClass("add_controlShow").html(t2);
        }
    }
    //    获得焦点的提示框
    function change(name,text,icon) {
        $("."+name).next("span").removeClass("glyphicon-remove").addClass(icon).css("color","#23B7E5");
        $("."+name).parents(".form-group").removeClass("has-error");
        $("."+name).parents(".form-group").find(".help-block").addClass("add_controlShow").html(text);
    }
    //    错误和正确的函数
    function check(name){
        switch(name){
            case "btn_user":
                var user_val=$("."+name).val();
                var user_pattern= /^[0-9a-zA-z_]+$/;
                var user_flag = user_pattern.test(user_val);
                user_flag==false||user_val==""||user_val==null||!(user_val.length>=4&&user_val.length<=10)
                    ?vali(name,0,'glyphicon-user','正确','用户名错误'):vali(name,1,'glyphicon-user','正确','用户名格式错误');
                break;
            case "btn_pwd":
                pwd_val=$("."+name).val();
                var pwd_pattern= /^[0-9a-zA-z_]+$/;
                var pwd_flag = pwd_pattern.test(pwd_val);
                pwd_flag==false||pwd_val==""||pwd_val==null||!(pwd_val.length>=4&&pwd_val.length<=16)
                    ?vali(name,0,'glyphicon-eye-open','正确','密码格式错误或密码不能为空'):vali(name,1,'glyphicon-eye-open','正确','密码格式错误或密码不能为空');
                break;
//            case "btn_year":
//                var pwd_val2=$("."+name).val();
//                pwd_val2!==pwd_val||pwd_val2==""||pwd_val2==null
//                    ?vali(name,0,'glyphicon-eye-open','正确','两次输入的不一致或密码不能为空'):vali(name,1,'glyphicon-eye-open','正确','两次输入的不一致或密码不能为空');
//                break;
            case "btn_tel":
                var pho_val=$("."+name).val();
                var pho_pattern= /(13\d|14[57]|15[^4,\D]|17[678]|18\d)\d{8}|170[059]\d{7}/;
                var pho_flag = pho_pattern.test(pho_val);
                pho_flag==false||pwd_val2==""||pwd_val2==null
                    ?vali(name,0,'glyphicon-phone','正确','手机格式不正确'):vali(name,1,'glyphicon-phone','正确','手机格式不正确');
                break;
//            case "btn_yb":
//                var id_val=$("."+name).val();
//                var id_pattern= /\d{15}|\d{17}[0-9Xx]/;
//                var id_flag = id_pattern.test(id_val);
//                id_flag==false||id_val==""||id_val==null
//                    ?vali(name,0,'glyphicon-edit','正确','身份证格式不正确'):vali(name,1,'glyphicon-edit','正确','身份证格式不正确');
//                break;
            case "btn_email":
                var email_val=$("."+name).val();
                var email_pattern= /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
                var email_flag = email_pattern.test(email_val);
                email_flag==false||email_val==""||email_val==null
                    ?vali(name,0,'glyphicon-envelope','正确','邮箱格式不正确'):vali(name,1,'glyphicon-envelope','正确','邮箱证格式不正确');
                break;
        }
    }
    //失去获得焦点事件
    $("input[name^='btn']").each(function(i,v){
        var me=$(this);
        var item_id=me.attr("class").split(" ")[1]+"";
        var text=me.parents(".form-group").find(".help-block").text();
        var icon=me.parents(".form-group").find(".glyphicon").attr("class").split(" ")[1]+"";
        $(v).on("blur",function(){
            check(item_id);
        })
        $(v).on("focus",function(){
            change(item_id,text,icon);
        })
    })
</script>
</body>
</html>
