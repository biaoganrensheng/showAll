{"version":3,"sources":["/script/modules/trackcontrol/views/boundcontrol.js"],"names":[],"mappings":"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","file":"/script/modules/trackcontrol/views/boundcontrol.js","sourcesContent":["/**\r\n * @file 控制是否按范围显示entity的控件 Reflux View\r\n * @author 崔健 cuijian03@baidu.com 2017.03.18\r\n */\r\nimport React, {Component} from 'react';\r\nimport {render} from 'react-dom';\r\nimport TrackStore from '../stores/trackStore';\r\nimport TrackAction from '../actions/trackAction';\r\nimport CommonStore from '../../common/stores/commonStore';\r\n\r\nlet Boundcontrol = React.createClass({\r\n    getInitialState() {\r\n        return {\r\n            // 页签编码 0为实时监控 1为轨迹查询\r\n            tabIndex: 0,\r\n            // 父容器可见性\r\n            parentVisible: {},\r\n            // 是否开启\r\n            boundSwitch: 'boundOff',\r\n            // 当前视野设备的数量\r\n            boundTotal: 0,\r\n            // 文字描述\r\n            describe: '当前视野设备数'\r\n        };\r\n    },\r\n    componentDidMount() {\r\n        TrackStore.listen(this.onStatusChange);\r\n        CommonStore.listen(this.onStatusChange);\r\n    },\r\n    onStatusChange(type, data) {\r\n        switch (type) {\r\n            case 'switchmanagetab':\r\n                this.listenSwitchmanageTab(data);\r\n                break;\r\n            case 'switchtab':\r\n                this.listenSwitchTab(data);\r\n                break;\r\n            case 'boundsearchentitytotal':\r\n                this.listenBoundSearchEntityTotal(data);\r\n                break;\r\n            case 'boundsearchDec':\r\n                this.listenBoundsearchDec(data);\r\n                break;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * 响应Store boundsearchDec事件，设置蚊子描述\r\n     *\r\n     * @param {string} data 文字描述\r\n     */\r\n    listenBoundsearchDec(data) {\r\n        this.setState({describe: data});\r\n    },\r\n\r\n    /**\r\n     * 响应Store boundsearchentitytotal事件，设置当前视野entity数量\r\n     *\r\n     * @param {number} data entity total数量\r\n     */\r\n    listenBoundSearchEntityTotal(data) {\r\n        this.setState({boundTotal: data});\r\n    },\r\n\r\n    /**\r\n     * 响应Store switchmanagetab事件，设置标签页\r\n     *\r\n     * @param {number} data 标签页标识\r\n     */\r\n    listenSwitchmanageTab(data) {\r\n        this.setState({tabIndex: data});\r\n    },\r\n\r\n    /**\r\n     * 响应Store list事件，设置标签页\r\n     *\r\n     * @param {nubmer} data 标签页标识\r\n     */\r\n    listenSwitchTab(data) {\r\n        if (data === 0) {\r\n            this.setState({parentVisible: {}});\r\n        } else {\r\n            this.setState({parentVisible: {visibility: 'inherit'}});\r\n        }\r\n    },\r\n\r\n    /**\r\n     * DOM操作回调，切换设备bound展示的开关\r\n     *\r\n     * @param {Object} event 事件对象\r\n     */\r\n    handleBoundSwitch(event) {\r\n        let that = this;\r\n        if (that.state.boundSwitch === 'boundOn') {\r\n            that.setState({boundSwitch: 'boundOff'});\r\n            TrackAction.switchboundsearch(false);\r\n        } else {\r\n            that.setState({boundSwitch: 'boundOn'});\r\n            TrackAction.switchboundsearch(true);\r\n        }\r\n    },\r\n\r\n    render() {\r\n        let tabIndex = this.state.tabIndex;\r\n        let parentVisible = this.state.parentVisible;\r\n        let boundSwitch = this.state.boundSwitch;\r\n        let handleBoundSwitch = this.handleBoundSwitch;\r\n        let boundTotal = this.state.boundTotal;\r\n        let describe = this.state.describe;\r\n        return (\r\n            <div className={tabIndex === 1 ? 'boundcontrol hidden' : 'boundcontrol visible'} style={parentVisible} >\r\n                <div className=\"boundsearch_title\">全部显示</div>\r\n                <div className={boundSwitch} onClick={handleBoundSwitch}></div>\r\n                <div className=\"boundsearch_total\">{describe}:{boundTotal}</div>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nexport default Boundcontrol;\r\n"]}